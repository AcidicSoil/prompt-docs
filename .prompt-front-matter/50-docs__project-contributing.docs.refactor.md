# Contributing Metadata Template

1. **Identifier**: A normalized string representing the core action or object (e.g., `contributing`, `validate-metadata`).
2. **Categories**: A list of ≤3 categories from the canonical taxonomy, drawn directly from explicit input or inferred verbs.
3. **Lifecycle Stage** _(optional)_: One of the stages implied by the workflow; e.g., "development", "maintenance". Omitted if uncertain.
4. **Dependencies** _(optional)_: Array of id-shaped strings (e.g., commands) that must run before this prompt. Limited to ≤5 items.
5. **Provided Artifacts** _(optional)_: Short list (≤3) of outputs generated by the prompt.
6. **Summary**: A single sentence describing the action, object, and outcome — ≤120 characters.

## Inputs

- Source content: `$1`
- Template name/title: `Contributing Guidelines`
- Maximum placeholders allowed: 7

## Canonical taxonomy (exact strings)

- lifecycle
- validation
- maintenance

### Stage hints (for inference)

- "validate:metadata" → development
- "build:catalog" → maintenance
- "contributing" → development

## Algorithm

1. Extract signals from $1
   - Titles/headings, imperative verbs, intent sentences, explicit tags, and dependency phrasing.

2. Determine the primary identifier
   - Prefer explicit input; otherwise infer from main action + object.
   - Normalize (lowercase, kebab-case, length-capped, starts with a letter).
   - De-duplicate.

3. Determine categories
   - Prefer explicit input; otherwise infer from verbs/headings vs canonical taxonomy.
   - Validate, sort deterministically, and de-dupe (≤3).

4. Determine lifecycle/stage (optional)
   - Prefer explicit input; otherwise map categories via stage hints.
   - Omit if uncertain.

5. Determine dependencies (optional)
   - Parse phrases implying order or prerequisites; keep id-shaped items (≤5).

6. Determine provided artifacts (optional)
   - Short list (≤3) of unlocked outputs.

7. Compose summary
   - One sentence (≤120 chars): “Do <verb> <object> to achieve <outcome>.”

8. Produce metadata in the requested format
   - Default to a human-readable serialization; honor any requested alternative.

9. Reconcile if input already contains metadata
   - Merge: explicit inputs > existing > inferred.
   - Validate lists; move unknowns to an extension field if needed.
   - Remove empty keys.

## Assumptions & Constraints

- Emit exactly one document: metadata, a single blank line, then $1.
- Limit distinct placeholders to ≤7.
- All categories must be from the canonical taxonomy.

## Validation

- Identifier matches a normalized id pattern (kebab-case, lowercase).
- Categories non-empty and drawn from canonical taxonomy (≤3).
- Stage, if present, is one of: "development", "maintenance".
- Dependencies, if present, are id-shaped (e.g., `npm install`, `validate:metadata`) — ≤5.
- Provided artifacts are short (≤3) and specific.
- Summary ≤120 chars; punctuation coherent.
- Body text $1 is not altered.

## Output format examples

- Identifier: contributing
- Categories: [lifecycle, validation]
- Stage: development
- Dependencies: ["npm install", "validate:metadata"]
- Provided Artifacts: ["catalog.json", "README tables"]
- Summary: Do contribute to the prompt catalog to ensure metadata consistency and workflow alignment.
